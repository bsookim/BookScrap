package com.coupang.controller;

import org.springframework.web.bind.annotation.CrossOrigin;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.coupang.dto.created.CoupangOutboundShippingCreateDto;
import com.coupang.dto.created.CoupangRemoteInfosCreateDto;
import com.coupang.outbound.dto.response.CoupangOutboundShippingResponse;
import com.coupang.service.CoupangOutboundShippingService;

import lombok.RequiredArgsConstructor;

//출고지 컨트롤러
@RestController
@RequestMapping("/api/coupang/outbound-shipping")
@RequiredArgsConstructor
@CrossOrigin("http://localhost:3000/")
public class CoupangOutboundShippingController {
	
	private final CoupangOutboundShippingService coupangOutboundShippingService;
	
//	//출고지 생성
//	@PostMapping("/save")
//	public void outboundShippingSave(@RequestBody CoupangOutboundShippingCreateDto coupangOutBoundDto, @RequestParam("coupangUserId") Long coupangUserId ) {
//		coupangOutboundShippingService.outboundShippingSave(coupangOutBoundDto,coupangUserId);
//	}
		
	//출고지 리스트
	@GetMapping("/list")
	public CoupangOutboundShippingResponse outboundShippingList(@RequestParam("coupangUserId") Long coupangUserId) {
        return coupangOutboundShippingService.outboundShippingList(coupangUserId);
    }
	
	 //출고지 조회
	@GetMapping("/detail")
	public CoupangOutboundShippingResponse outboundShippingDetail(@RequestParam("coupangUserId") Long coupangUserId,@RequestParam("placeNames") String placeNames) {
        return coupangOutboundShippingService.outboundShippingDetail(coupangUserId,placeNames);
    }
	
	@PostMapping("/placeCodes/save")
	public void outboundShippingPlaceCodesSave(@RequestParam("outboundShippingPlaceCode") String outboundShippingPlaceCode,@RequestParam("userId") Long userId) {
	    System.out.println("받은 출고지 코드: " + outboundShippingPlaceCode+userId);
	    coupangOutboundShippingService.outboundShippingPlaceCodesSave(outboundShippingPlaceCode, userId);
	}

}
